<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.creditlink.dao.index.BankCardFourElementUpdateRecordDao">
	
	<!--银行卡四要素新增临时表索引  -->
	<sql id="busIndexBankFourElementUpdateRecordColumns">
		bibfur.ID id,
		bibfur.BANKCARDID bankCardId,
		bibfur.STATUS status,
		
		bibfur.REMARK remark,
		bibfur.CREATETIME createTime,
		bibfur.CREATEUSER createUser,
		bibfur.UPDATETIME updateTime,
		bibfur.UPDATEUSER updateUser		
	</sql>
	
	<!-- bas_user_inf表查询条件 -->
	<sql id="findBusIndexBankFourElementUpdateRecordCondition">
		<if test="id != null">
			and bibfur.ID = #{id}
		</if>
		<if test="bankCardId != null">
			and bibfur.BANKCARDID = #{bankCardId}
		</if>
		<if test="status != null and status != ''">
			and bibfur.STATUS = #{status}
		</if>
		<if test="createTime != null">
			and DATE(bibfur.CREATETIME) = DATE(#{createTime})
		</if>
	</sql>
	
	<!--单个插入  -->
	<insert id="insert" parameterType="com.creditlink.bean.po.index.BankCardFourElementUpdateRecordPo" useGeneratedKeys="true"
	 keyProperty="id">
	 	insert into bus_index_bank_fourelement_update_record
	 	<trim prefix="(" suffix=")" suffixOverrides=",">
	 		BANKCARDID,STATUS,
	 		REMARK,CREATETIME,CREATEUSER,UPDATETIME,UPDATEUSER
	 	</trim>
	 	<trim prefix="VALUES(" suffix=")" suffixOverrides=",">
	 		#{bankCardId},#{status},
	 		#{remark},#{createTime},#{createUser},#{updateTime},#{updateUser}
	 	</trim>
	 </insert>
	 
	 <!-- 查询 -->
	<select id="find" parameterType="com.creditlink.bean.po.index.BankCardFourElementUpdateRecordPo"
	resultType="com.creditlink.bean.po.index.BankCardFourElementUpdateRecordPo">
	select <include refid="busIndexBankFourElementUpdateRecordColumns"></include>
		from bus_index_bank_fourelement_update_record bibfur
		where 1 = 1
		<include refid="findBusIndexBankFourElementUpdateRecordCondition"></include>
		limit 1
	</select>
</mapper>